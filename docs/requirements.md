# 機能要件（requirements）

## 1. 目的
Azure Functions 上で、掛け算・割り算を行うシンプルな HTTP API を提供する。
ブラウザで URL を入力した際に、レスポンスとして計算結果（またはエラー理由）が画面に表示されればよい。

## 2. スコープ
### 2.1 対象
- HTTP リクエストを受け付ける API を 2 つ提供する
  - 掛け算 API
  - 割り算 API

### 2.2 非対象（本要件では扱わない）
- 認証・認可（匿名アクセスを許可する）
- CORS（不要）
- UI（HTML 画面）の提供（ブラウザ表示はプレーンテキストで十分）

## 3. 用語
- A, B: クエリストリングで指定する計算対象の整数

## 4. API 仕様
共通事項：
- 受信: HTTP GET（ブラウザで URL 入力を想定）
- パラメータ: クエリストリング `A` と `B`
- 文字コード: UTF-8
- レスポンス形式: プレーンテキスト
- HTTP ステータスコード: 成否に関わらず **常に 200** を返す
  - エラー時はレスポンス本文にエラー情報（プレーンテキスト）を載せる
- エラーメッセージの形式: `ERROR: {reason}`

> 注: 実際の URL はデプロイ先のベース URL に依存する。Azure Functions の既定設定では `/api` が付与される場合がある。
> 本要件では「エンドポイントのパス」として `/multiply` と `/divide` を定義する。

### 4.1 掛け算 API
- パス: `/multiply`
- クエリ:
  - `A`（必須）: 整数
  - `B`（必須）: 整数
- 処理:
  - `A * B` を計算し、結果を返す
- 成功時レスポンス本文（例）:
  - `12`

### 4.2 割り算 API
- パス: `/divide`
- クエリ:
  - `A`（必須）: 整数
  - `B`（必須）: 整数
- 処理:
  - `A / B` を計算し、**小数部は切り捨て**て整数結果を返す
  - 切り捨ての定義: 0 方向への切り捨て（例: 7/2 → 3、-7/2 → -3）
- 成功時レスポンス本文（例）:
  - `3`

## 5. 入力バリデーション
### 5.1 必須パラメータ
- `A` または `B` が未指定の場合はエラーとする
  - 例: `ERROR: Missing query parameter A`

### 5.2 型チェック
- `A` または `B` が整数として解釈できない場合はエラーとする
  - 例: `ERROR: Query parameter A must be an integer`

### 5.3 ゼロ除算
- `/divide` にて `B=0` の場合はエラーとする
  - 例: `ERROR: Division by zero`

## 6. 画面表示（ブラウザ想定）
- ブラウザで URL を開いた際、レスポンス本文に計算結果（または `ERROR:` で始まるエラーメッセージ）が表示されること。

## 7. 例
- 掛け算（成功）:
  - `/multiply?A=3&B=4` → `12`
- 割り算（成功）:
  - `/divide?A=7&B=2` → `3`
- 割り算（ゼロ除算）:
  - `/divide?A=7&B=0` → `ERROR: Division by zero`
